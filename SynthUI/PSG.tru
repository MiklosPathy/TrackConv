Unit PSG;
@use "SCF"

var  
    PSGLastState: array[64] of byte;
    //PSGNoteTable: array[128] of integer = (41,44,47,49,52,55,59,62,66,70,74,78,83,88,93,99,104,111,117,124,132,139,148,156,166,176,186,197,209,221,234,248,263,279,295,313,331,351,372,394,418,442,469,497,526,557,591,626,663,702,744,788,835,885,937,993,1052,1115,1181,1251,1326,1405,1488,1577,1670,1770,1875,1986,2105,2230,2362,2503,2652,2809,2976,3153,3341,3539,3750,3973,4209,4459,4724,5005,5303,5618,5952,6306,6681,7079,7500,7946,8418,8919,9449,10011,10606,11237,11905,12613,13363,14157,14999,15891,16836,17837,18898,20022,21212,22474,23810,25226,26726,28315,29999,31782,33672,35674,37796,40043,42424,44947,47620,50451,53451,56630,59997,63565);
	PSGNoteTable: array[4096] of integer = (
$002B,$002D,$0030,$0033,$0036,$0039,$003C,$0040,$0044,$0048,$004C,$0051,$0055,$005A,$0060,$0065,$006B,$0072,$0079,$0080,$0087,$008F,$0098,$00A1,$00AB,$00B5,$00BF,$00CB,$00D7,$00E4,$00F1,$0100,$010F,$011F,$0130,$0142,$0155,$0169,$017F,$0196,$01AE,$01C7,$01E2,$01FF,$021E,$023E,$0260,$0284,$02AA,$02D3,$02FE,$032B,$035C,$038F,$03C5,$03FE,$043B,$047B,$04C0,$0508,$0555,$05A6,$05FC,$0657,$06B7,$071E,$078A,$07FD,$0876,$08F7,$097F,$0A10,$0AA9,$0B4C,$0BF7,$0CAE,$0D6F,$0E3B,$0F14,$0FF9,$10EC,$11EE,$12FF,$1420,$1552,$1697,$17EF,$195B,$1ADD,$1C76,$1E27,$1FF2,$21D9,$23DC,$25FE,$2840,$2AA5,$2D2E,$2FDE,$32B6,$35BA,$38EC,$3C4F,$3FE5,$43B1,$47B8,$4BFC,$5080,$554A,$5A5C,$5FBC,$656D,$6B75,$71D9,$789E,$7FCA,$8763,$8F70,$97F7,$A101,$AA93,$B4B8,$BF77,$CADA,$D6EA,$E3B1,$F13B,$FF93,
$002B,$002D,$0030,$0033,$0036,$0039,$003C,$0040,$0044,$0048,$004C,$0051,$0055,$005B,$0060,$0066,$006C,$0072,$0079,$0080,$0088,$0090,$0098,$00A1,$00AB,$00B5,$00C0,$00CB,$00D7,$00E4,$00F2,$0100,$010F,$011F,$0130,$0143,$0156,$016A,$0180,$0196,$01AF,$01C8,$01E3,$0200,$021F,$023F,$0261,$0285,$02AC,$02D4,$02FF,$032D,$035D,$0390,$03C7,$0400,$043D,$047E,$04C2,$050A,$0557,$05A8,$05FE,$065A,$06BA,$0721,$078D,$0800,$087A,$08FB,$0984,$0A15,$0AAE,$0B51,$0BFD,$0CB3,$0D75,$0E42,$0F1B,$1001,$10F4,$11F6,$1308,$1429,$155C,$16A1,$17FA,$1967,$1AEA,$1C83,$1E35,$2001,$21E8,$23ED,$260F,$2853,$2AB9,$2D43,$2FF4,$32CE,$35D3,$3907,$3C6B,$4002,$43D1,$47D9,$4C1F,$50A6,$5571,$5A86,$5FE8,$659C,$6BA6,$720D,$78D5,$8005,$87A2,$8FB2,$983E,$A14B,$AAE2,$B50C,$BFD0,$CB38,$D74D,$E41A,$F1AB,$0000,
$002B,$002D,$0030,$0033,$0036,$0039,$003D,$0040,$0044,$0048,$004C,$0051,$0056,$005B,$0060,$0066,$006C,$0072,$0079,$0080,$0088,$0090,$0099,$00A2,$00AB,$00B5,$00C0,$00CC,$00D8,$00E5,$00F2,$0100,$0110,$0120,$0131,$0143,$0156,$016B,$0180,$0197,$01AF,$01C9,$01E4,$0201,$0220,$0240,$0262,$0286,$02AD,$02D5,$0301,$032E,$035F,$0392,$03C8,$0402,$043F,$0480,$04C4,$050D,$055A,$05AB,$0601,$065D,$06BE,$0724,$0791,$0804,$087E,$08FF,$0988,$0A19,$0AB3,$0B56,$0C03,$0CB9,$0D7B,$0E48,$0F22,$1008,$10FC,$11FF,$1311,$1433,$1566,$16AC,$1805,$1973,$1AF6,$1C90,$1E43,$2010,$21F8,$23FD,$2621,$2865,$2ACC,$2D58,$300A,$32E5,$35EC,$3921,$3C87,$4020,$43F0,$47FA,$4C42,$50CB,$5599,$5AB0,$6014,$65CB,$6BD8,$7242,$790D,$8040,$87E0,$8FF5,$9884,$A196,$AB31,$B55F,$C028,$CB96,$D7B1,$E484,$F21B,$0000,
$002B,$002D,$0030,$0033,$0036,$0039,$003D,$0040,$0044,$0048,$004C,$0051,$0056,$005B,$0060,$0066,$006C,$0072,$0079,$0080,$0088,$0090,$0099,$00A2,$00AC,$00B6,$00C1,$00CC,$00D8,$00E5,$00F3,$0101,$0110,$0120,$0132,$0144,$0157,$016B,$0181,$0198,$01B0,$01CA,$01E5,$0202,$0220,$0241,$0263,$0288,$02AE,$02D7,$0302,$0330,$0360,$0394,$03CA,$0404,$0441,$0482,$04C6,$050F,$055C,$05AE,$0604,$0660,$06C1,$0727,$0794,$0808,$0882,$0903,$098D,$0A1E,$0AB8,$0B5B,$0C08,$0CBF,$0D81,$0E4F,$0F29,$100F,$1104,$1207,$1319,$143C,$1570,$16B6,$1810,$197E,$1B03,$1C9E,$1E51,$201F,$2208,$240E,$2633,$2878,$2AE0,$2D6D,$3020,$32FD,$3605,$393B,$3CA3,$403E,$4410,$481C,$4C65,$50F0,$55C0,$5ADA,$6041,$65FA,$6C0A,$7277,$7945,$807B,$881F,$9037,$98CB,$A1E0,$AB81,$B5B3,$C081,$CBF4,$D814,$E4EE,$F28A,$0000,
$002B,$002E,$0030,$0033,$0036,$0039,$003D,$0040,$0044,$0048,$004D,$0051,$0056,$005B,$0060,$0066,$006C,$0073,$0079,$0081,$0088,$0090,$0099,$00A2,$00AC,$00B6,$00C1,$00CC,$00D8,$00E5,$00F3,$0101,$0111,$0121,$0132,$0144,$0158,$016C,$0182,$0199,$01B1,$01CB,$01E6,$0203,$0221,$0242,$0264,$0289,$02AF,$02D8,$0303,$0331,$0362,$0395,$03CC,$0406,$0443,$0484,$04C9,$0511,$055E,$05B0,$0607,$0663,$06C4,$072B,$0798,$080B,$0886,$0908,$0991,$0A23,$0ABD,$0B60,$0C0E,$0CC5,$0D88,$0E55,$0F30,$1017,$110C,$120F,$1322,$1445,$157A,$16C1,$181B,$198A,$1B0F,$1CAB,$1E5F,$202E,$2218,$241E,$2644,$288B,$2AF4,$2D82,$3037,$3314,$361E,$3956,$3CBF,$405B,$442F,$483D,$4C89,$5116,$55E8,$5B04,$606D,$6629,$6C3C,$72AC,$797D,$80B7,$885E,$907A,$9911,$A22B,$ABD0,$B607,$C0DA,$CC52,$D878,$E557,$F2FB,$0000,
$002B,$002E,$0030,$0033,$0036,$0039,$003D,$0040,$0044,$0048,$004D,$0051,$0056,$005B,$0061,$0066,$006C,$0073,$007A,$0081,$0089,$0091,$0099,$00A2,$00AC,$00B6,$00C1,$00CD,$00D9,$00E6,$00F3,$0102,$0111,$0121,$0133,$0145,$0158,$016D,$0182,$0199,$01B2,$01CC,$01E7,$0204,$0222,$0243,$0265,$028A,$02B0,$02D9,$0305,$0333,$0363,$0397,$03CE,$0408,$0445,$0486,$04CB,$0514,$0561,$05B3,$060A,$0666,$06C7,$072E,$079B,$080F,$088A,$090C,$0996,$0A27,$0AC2,$0B66,$0C13,$0CCB,$0D8E,$0E5C,$0F37,$101E,$1114,$1218,$132B,$144F,$1584,$16CB,$1826,$1996,$1B1C,$1CB8,$1E6D,$203D,$2227,$242F,$2656,$289E,$2B08,$2D97,$304D,$332C,$3637,$3970,$3CDB,$4079,$444F,$485E,$4CAC,$513B,$5610,$5B2E,$609A,$6658,$6C6E,$72E1,$79B6,$80F2,$889D,$90BD,$9958,$A276,$AC1F,$B65C,$C133,$CCB0,$D8DC,$E5C2,$F36B,$0000,
$002B,$002E,$0030,$0033,$0036,$003A,$003D,$0041,$0044,$0048,$004D,$0051,$0056,$005B,$0061,$0067,$006D,$0073,$007A,$0081,$0089,$0091,$009A,$00A3,$00AC,$00B7,$00C2,$00CD,$00D9,$00E6,$00F4,$0102,$0112,$0122,$0133,$0146,$0159,$016D,$0183,$019A,$01B3,$01CC,$01E8,$0205,$0223,$0244,$0266,$028B,$02B2,$02DB,$0306,$0334,$0365,$0399,$03CF,$0409,$0447,$0488,$04CD,$0516,$0563,$05B5,$060C,$0668,$06CA,$0731,$079F,$0813,$088E,$0910,$099A,$0A2C,$0AC7,$0B6B,$0C19,$0CD1,$0D94,$0E63,$0F3E,$1026,$111C,$1220,$1334,$1458,$158E,$16D6,$1832,$19A2,$1B28,$1CC5,$1E7B,$204B,$2237,$2440,$2668,$28B0,$2B1C,$2DAC,$3063,$3344,$3650,$398B,$3CF7,$4097,$446E,$4880,$4CCF,$5161,$5637,$5B58,$60C6,$6688,$6CA0,$7316,$79EE,$812E,$88DC,$9100,$999F,$A2C1,$AC6F,$B6B0,$C18D,$CD0F,$D941,$E62C,$F3DC,$0000,
$002B,$002E,$0030,$0033,$0036,$003A,$003D,$0041,$0045,$0049,$004D,$0052,$0056,$005C,$0061,$0067,$006D,$0073,$007A,$0081,$0089,$0091,$009A,$00A3,$00AD,$00B7,$00C2,$00CD,$00DA,$00E7,$00F4,$0103,$0112,$0123,$0134,$0146,$0159,$016E,$0184,$019B,$01B3,$01CD,$01E9,$0206,$0224,$0245,$0268,$028C,$02B3,$02DC,$0308,$0336,$0367,$039A,$03D1,$040B,$0449,$048A,$04CF,$0518,$0566,$05B8,$060F,$066B,$06CD,$0735,$07A2,$0817,$0892,$0914,$099E,$0A31,$0ACC,$0B70,$0C1E,$0CD7,$0D9A,$0E69,$0F45,$102D,$1123,$1228,$133D,$1462,$1598,$16E1,$183D,$19AE,$1B35,$1CD3,$1E8A,$205A,$2247,$2451,$2679,$28C3,$2B30,$2DC1,$307A,$335C,$3669,$39A6,$3D13,$40B5,$448E,$48A1,$4CF3,$5186,$565F,$5B82,$60F3,$66B7,$6CD3,$734B,$7A26,$816A,$891C,$9143,$99E6,$A30D,$ACBF,$B704,$C1E6,$CD6E,$D9A5,$E696,$F44C,$0000,
$002B,$002E,$0031,$0033,$0037,$003A,$003D,$0041,$0045,$0049,$004D,$0052,$0057,$005C,$0061,$0067,$006D,$0074,$007A,$0082,$0089,$0092,$009A,$00A3,$00AD,$00B7,$00C2,$00CE,$00DA,$00E7,$00F5,$0103,$0113,$0123,$0134,$0147,$015A,$016F,$0185,$019C,$01B4,$01CE,$01E9,$0207,$0225,$0246,$0269,$028D,$02B4,$02DD,$0309,$0337,$0368,$039C,$03D3,$040D,$044B,$048C,$04D1,$051B,$0568,$05BB,$0612,$066E,$06D0,$0738,$07A6,$081A,$0896,$0918,$09A3,$0A36,$0AD1,$0B76,$0C24,$0CDD,$0DA1,$0E70,$0F4C,$1035,$112B,$1231,$1346,$146B,$15A2,$16EB,$1848,$19BA,$1B41,$1CE0,$1E98,$2069,$2257,$2461,$268B,$28D6,$2B44,$2DD6,$3090,$3373,$3682,$39C0,$3D2F,$40D3,$44AE,$48C3,$4D17,$51AC,$5687,$5BAD,$6120,$66E7,$6D05,$7380,$7A5F,$81A5,$895B,$9186,$9A2D,$A358,$AD0F,$B759,$C240,$CDCD,$DA0A,$E701,$F4BD,$0000,
$002B,$002E,$0031,$0034,$0037,$003A,$003D,$0041,$0045,$0049,$004D,$0052,$0057,$005C,$0061,$0067,$006D,$0074,$007B,$0082,$008A,$0092,$009A,$00A4,$00AD,$00B8,$00C3,$00CE,$00DA,$00E7,$00F5,$0104,$0113,$0124,$0135,$0147,$015B,$016F,$0185,$019C,$01B5,$01CF,$01EA,$0208,$0226,$0247,$026A,$028F,$02B5,$02DF,$030A,$0339,$036A,$039E,$03D5,$040F,$044D,$048E,$04D4,$051D,$056B,$05BD,$0615,$0671,$06D3,$073B,$07A9,$081E,$089A,$091D,$09A7,$0A3A,$0AD6,$0B7B,$0C2A,$0CE3,$0DA7,$0E77,$0F53,$103C,$1133,$1239,$134F,$1474,$15AC,$16F6,$1853,$19C6,$1B4E,$1CED,$1EA6,$2078,$2267,$2472,$269D,$28E9,$2B58,$2DEB,$30A6,$338B,$369C,$39DB,$3D4C,$40F1,$44CD,$48E5,$4D3A,$51D2,$56AF,$5BD7,$614D,$6716,$6D37,$73B6,$7A97,$81E1,$899B,$91C9,$9A74,$A3A4,$AD5F,$B7AE,$C29A,$CE2C,$DA6F,$E76C,$F52F,$0000,
$002B,$002E,$0031,$0034,$0037,$003A,$003D,$0041,$0045,$0049,$004D,$0052,$0057,$005C,$0061,$0067,$006D,$0074,$007B,$0082,$008A,$0092,$009B,$00A4,$00AE,$00B8,$00C3,$00CF,$00DB,$00E8,$00F6,$0104,$0114,$0124,$0135,$0148,$015B,$0170,$0186,$019D,$01B6,$01D0,$01EB,$0208,$0227,$0248,$026B,$0290,$02B7,$02E0,$030C,$033A,$036B,$039F,$03D7,$0411,$044F,$0490,$04D6,$051F,$056D,$05C0,$0618,$0674,$06D7,$073F,$07AD,$0822,$089E,$0921,$09AC,$0A3F,$0ADB,$0B80,$0C2F,$0CE9,$0DAD,$0E7D,$0F5A,$1044,$113B,$1242,$1357,$147E,$15B6,$1700,$185E,$19D1,$1B5A,$1CFB,$1EB4,$2087,$2277,$2483,$26AF,$28FC,$2B6C,$2E01,$30BD,$33A3,$36B5,$39F6,$3D68,$410F,$44ED,$4906,$4D5E,$51F8,$56D7,$5C01,$617A,$6746,$6D6A,$73EB,$7AD0,$821E,$89DA,$920D,$9ABC,$A3EF,$ADAF,$B803,$C2F4,$CE8C,$DAD4,$E7D7,$F5A0,$0000,
$002B,$002E,$0031,$0034,$0037,$003A,$003E,$0041,$0045,$0049,$004E,$0052,$0057,$005C,$0062,$0067,$006E,$0074,$007B,$0082,$008A,$0092,$009B,$00A4,$00AE,$00B8,$00C3,$00CF,$00DB,$00E8,$00F6,$0105,$0114,$0125,$0136,$0148,$015C,$0171,$0187,$019E,$01B6,$01D1,$01EC,$0209,$0228,$0249,$026C,$0291,$02B8,$02E1,$030D,$033C,$036D,$03A1,$03D8,$0413,$0451,$0493,$04D8,$0522,$0570,$05C3,$061A,$0677,$06DA,$0742,$07B1,$0826,$08A2,$0925,$09B0,$0A44,$0AE0,$0B85,$0C35,$0CEF,$0DB4,$0E84,$0F61,$104B,$1143,$124A,$1360,$1487,$15C0,$170B,$186A,$19DD,$1B67,$1D08,$1EC2,$2096,$2286,$2494,$26C1,$290F,$2B80,$2E16,$30D4,$33BB,$36CE,$3A11,$3D84,$412D,$450D,$4928,$4D82,$521E,$5700,$5C2C,$61A7,$6776,$6D9C,$7421,$7B09,$825A,$8A1A,$9250,$9B03,$A43B,$ADFF,$B858,$C34E,$CEEB,$DB39,$E842,$F612,$0000,
$002C,$002E,$0031,$0034,$0037,$003A,$003E,$0041,$0045,$0049,$004E,$0052,$0057,$005C,$0062,$0068,$006E,$0074,$007B,$0083,$008A,$0093,$009B,$00A5,$00AE,$00B9,$00C4,$00CF,$00DC,$00E9,$00F7,$0105,$0115,$0125,$0137,$0149,$015D,$0171,$0187,$019F,$01B7,$01D1,$01ED,$020A,$0229,$024A,$026D,$0292,$02B9,$02E3,$030F,$033D,$036E,$03A3,$03DA,$0415,$0453,$0495,$04DA,$0524,$0572,$05C5,$061D,$067A,$06DD,$0745,$07B4,$0829,$08A6,$0929,$09B5,$0A48,$0AE5,$0B8B,$0C3B,$0CF5,$0DBA,$0E8B,$0F68,$1053,$114B,$1252,$1369,$1491,$15CA,$1716,$1875,$19E9,$1B74,$1D16,$1ED0,$20A5,$2296,$24A5,$26D3,$2922,$2B94,$2E2B,$30EA,$33D3,$36E8,$3A2B,$3DA1,$414B,$452D,$494A,$4DA6,$5244,$5728,$5C57,$61D4,$67A5,$6DCF,$7457,$7B42,$8296,$8A5A,$9294,$9B4B,$A487,$AE50,$B8AD,$C3A8,$CF4B,$DB9E,$E8AD,$F683,$0000,
$002C,$002E,$0031,$0034,$0037,$003A,$003E,$0041,$0045,$0049,$004E,$0052,$0057,$005D,$0062,$0068,$006E,$0075,$007B,$0083,$008B,$0093,$009C,$00A5,$00AF,$00B9,$00C4,$00D0,$00DC,$00E9,$00F7,$0106,$0115,$0126,$0137,$014A,$015D,$0172,$0188,$019F,$01B8,$01D2,$01EE,$020B,$022A,$024B,$026E,$0293,$02BB,$02E4,$0310,$033F,$0370,$03A4,$03DC,$0417,$0455,$0497,$04DD,$0527,$0575,$05C8,$0620,$067D,$06E0,$0749,$07B8,$082D,$08AA,$092D,$09B9,$0A4D,$0AEA,$0B90,$0C40,$0CFB,$0DC0,$0E92,$0F6F,$105A,$1153,$125B,$1372,$149A,$15D4,$1720,$1880,$19F5,$1B80,$1D23,$1EDF,$20B5,$22A6,$24B6,$26E5,$2935,$2BA8,$2E41,$3101,$33EB,$3701,$3A46,$3DBD,$4169,$454D,$496C,$4DCA,$526A,$5750,$5C81,$6201,$67D5,$6E02,$748D,$7B7B,$82D2,$8A9A,$92D8,$9B93,$A4D3,$AEA0,$B903,$C403,$CFAB,$DC04,$E919,$F6F5,$0000,
$002C,$002E,$0031,$0034,$0037,$003A,$003E,$0042,$0045,$004A,$004E,$0053,$0057,$005D,$0062,$0068,$006E,$0075,$007C,$0083,$008B,$0093,$009C,$00A5,$00AF,$00B9,$00C4,$00D0,$00DC,$00EA,$00F7,$0106,$0116,$0126,$0138,$014A,$015E,$0173,$0189,$01A0,$01B9,$01D3,$01EF,$020C,$022B,$024C,$026F,$0294,$02BC,$02E5,$0311,$0340,$0372,$03A6,$03DE,$0418,$0457,$0499,$04DF,$0529,$0578,$05CB,$0623,$0680,$06E3,$074C,$07BB,$0831,$08AE,$0932,$09BE,$0A52,$0AEF,$0B96,$0C46,$0D01,$0DC7,$0E98,$0F76,$1062,$115B,$1263,$137B,$14A4,$15DE,$172B,$188C,$1A01,$1B8D,$1D31,$1EED,$20C4,$22B6,$24C7,$26F7,$2948,$2BBC,$2E56,$3117,$3403,$371A,$3A61,$3DDA,$4187,$456D,$498E,$4DED,$5290,$5779,$5CAC,$622F,$6805,$6E35,$74C2,$7BB4,$830F,$8ADA,$931C,$9BDB,$A51F,$AEF1,$B958,$C45E,$D00B,$DC6A,$E985,$F768,$0000,
$002C,$002E,$0031,$0034,$0037,$003A,$003E,$0042,$0046,$004A,$004E,$0053,$0058,$005D,$0062,$0068,$006E,$0075,$007C,$0083,$008B,$0093,$009C,$00A5,$00AF,$00BA,$00C5,$00D0,$00DD,$00EA,$00F8,$0107,$0116,$0127,$0138,$014B,$015F,$0173,$0189,$01A1,$01BA,$01D4,$01F0,$020D,$022C,$024D,$0271,$0296,$02BD,$02E7,$0313,$0342,$0373,$03A8,$03DF,$041A,$0459,$049B,$04E1,$052B,$057A,$05CD,$0626,$0683,$06E6,$0750,$07BF,$0835,$08B2,$0936,$09C2,$0A57,$0AF4,$0B9B,$0C4C,$0D07,$0DCD,$0E9F,$0F7E,$1069,$1163,$126C,$1384,$14AD,$15E8,$1736,$1897,$1A0D,$1B9A,$1D3E,$1EFB,$20D3,$22C7,$24D8,$2709,$295B,$2BD0,$2E6B,$312E,$341B,$3734,$3A7C,$3DF7,$41A6,$458D,$49B0,$4E12,$52B6,$57A1,$5CD7,$625C,$6835,$6E68,$74F8,$7BED,$834C,$8B1A,$9360,$9C23,$A56C,$AF42,$B9AE,$C4B8,$D06B,$DCD0,$E9F1,$F7DA,$0000,
$002C,$002F,$0031,$0034,$0037,$003B,$003E,$0042,$0046,$004A,$004E,$0053,$0058,$005D,$0063,$0068,$006F,$0075,$007C,$0084,$008B,$0094,$009C,$00A6,$00B0,$00BA,$00C5,$00D1,$00DD,$00EA,$00F8,$0107,$0117,$0127,$0139,$014B,$015F,$0174,$018A,$01A2,$01BA,$01D5,$01F1,$020E,$022D,$024F,$0272,$0297,$02BE,$02E8,$0314,$0343,$0375,$03A9,$03E1,$041C,$045B,$049D,$04E3,$052E,$057D,$05D0,$0629,$0686,$06EA,$0753,$07C2,$0839,$08B6,$093A,$09C7,$0A5C,$0AF9,$0BA0,$0C51,$0D0D,$0DD3,$0EA6,$0F85,$1071,$116B,$1274,$138D,$14B7,$15F2,$1740,$18A2,$1A19,$1BA7,$1D4C,$1F0A,$20E2,$22D7,$24E9,$271B,$296E,$2BE5,$2E81,$3145,$3433,$374D,$3A97,$3E13,$41C4,$45AD,$49D2,$4E36,$52DC,$57CA,$5D02,$628A,$6866,$6E9B,$752F,$7C26,$8388,$8B5A,$93A4,$9C6B,$A5B8,$AF93,$BA04,$C513,$D0CB,$DD36,$EA5D,$F84D,$0000,
$002C,$002F,$0031,$0034,$0037,$003B,$003E,$0042,$0046,$004A,$004E,$0053,$0058,$005D,$0063,$0069,$006F,$0075,$007C,$0084,$008C,$0094,$009D,$00A6,$00B0,$00BA,$00C5,$00D1,$00DE,$00EB,$00F9,$0108,$0117,$0128,$0139,$014C,$0160,$0175,$018B,$01A2,$01BB,$01D6,$01F1,$020F,$022E,$0250,$0273,$0298,$02C0,$02E9,$0316,$0345,$0376,$03AB,$03E3,$041E,$045D,$049F,$04E6,$0530,$057F,$05D3,$062B,$0689,$06ED,$0756,$07C6,$083C,$08BA,$093F,$09CB,$0A60,$0AFE,$0BA6,$0C57,$0D13,$0DDA,$0EAD,$0F8C,$1079,$1173,$127D,$1396,$14C1,$15FD,$174B,$18AE,$1A25,$1BB4,$1D59,$1F18,$20F1,$22E7,$24FA,$272D,$2981,$2BF9,$2E96,$315C,$344B,$3767,$3AB2,$3E30,$41E3,$45CD,$49F4,$4E5A,$5303,$57F2,$5D2D,$62B7,$6896,$6ECE,$7565,$7C60,$83C5,$8B9B,$93E8,$9CB4,$A605,$AFE4,$BA5A,$C56F,$D12C,$DD9C,$EACA,$F8C0,$0000,
$002C,$002F,$0031,$0034,$0038,$003B,$003E,$0042,$0046,$004A,$004E,$0053,$0058,$005D,$0063,$0069,$006F,$0076,$007D,$0084,$008C,$0094,$009D,$00A6,$00B0,$00BB,$00C6,$00D2,$00DE,$00EB,$00F9,$0108,$0118,$0128,$013A,$014D,$0160,$0175,$018C,$01A3,$01BC,$01D6,$01F2,$0210,$022F,$0251,$0274,$0299,$02C1,$02EB,$0317,$0346,$0378,$03AD,$03E5,$0420,$045F,$04A1,$04E8,$0533,$0582,$05D5,$062E,$068C,$06F0,$075A,$07CA,$0840,$08BE,$0943,$09D0,$0A65,$0B03,$0BAB,$0C5D,$0D19,$0DE0,$0EB3,$0F93,$1080,$117B,$1286,$13A0,$14CA,$1607,$1756,$18B9,$1A32,$1BC0,$1D67,$1F26,$2101,$22F7,$250B,$273F,$2994,$2C0D,$2EAC,$3172,$3463,$3781,$3ACE,$3E4D,$4201,$45EE,$4A16,$4E7E,$5329,$581B,$5D58,$62E5,$68C6,$6F01,$759B,$7C99,$8402,$8BDC,$942D,$9CFC,$A652,$B036,$BAB0,$C5CA,$D18D,$DE03,$EB36,$F933,$0000,
$002C,$002F,$0032,$0034,$0038,$003B,$003E,$0042,$0046,$004A,$004F,$0053,$0058,$005E,$0063,$0069,$006F,$0076,$007D,$0084,$008C,$0094,$009D,$00A7,$00B1,$00BB,$00C6,$00D2,$00DE,$00EC,$00FA,$0108,$0118,$0129,$013B,$014D,$0161,$0176,$018C,$01A4,$01BD,$01D7,$01F3,$0211,$0230,$0252,$0275,$029A,$02C2,$02EC,$0319,$0348,$037A,$03AF,$03E7,$0422,$0461,$04A4,$04EA,$0535,$0584,$05D8,$0631,$068F,$06F3,$075D,$07CD,$0844,$08C2,$0947,$09D4,$0A6A,$0B08,$0BB0,$0C62,$0D1F,$0DE7,$0EBA,$0F9A,$1088,$1184,$128E,$13A9,$14D4,$1611,$1761,$18C5,$1A3E,$1BCD,$1D74,$1F35,$2110,$2307,$251C,$2751,$29A8,$2C22,$2EC2,$3189,$347B,$379A,$3AE9,$3E69,$4220,$460E,$4A39,$4EA2,$534F,$5844,$5D83,$6313,$68F7,$6F35,$75D1,$7CD3,$843F,$8C1C,$9471,$9D45,$A69F,$B087,$BB06,$C625,$D1EE,$DE69,$EBA3,$F9A6,$0000,
$002C,$002F,$0032,$0035,$0038,$003B,$003F,$0042,$0046,$004A,$004F,$0053,$0058,$005E,$0063,$0069,$006F,$0076,$007D,$0084,$008C,$0095,$009E,$00A7,$00B1,$00BB,$00C7,$00D2,$00DF,$00EC,$00FA,$0109,$0119,$0129,$013B,$014E,$0162,$0177,$018D,$01A5,$01BE,$01D8,$01F4,$0212,$0231,$0253,$0276,$029C,$02C3,$02ED,$031A,$0349,$037B,$03B0,$03E8,$0424,$0463,$04A6,$04EC,$0537,$0587,$05DB,$0634,$0692,$06F7,$0760,$07D1,$0848,$08C6,$094B,$09D9,$0A6F,$0B0E,$0BB6,$0C68,$0D25,$0DED,$0EC1,$0FA2,$1090,$118C,$1297,$13B2,$14DD,$161B,$176C,$18D0,$1A4A,$1BDA,$1D82,$1F43,$211F,$2317,$252D,$2763,$29BB,$2C36,$2ED7,$31A0,$3494,$37B4,$3B04,$3E86,$423E,$462F,$4A5B,$4EC7,$5376,$586C,$5DAE,$6340,$6927,$6F68,$7608,$7D0D,$847C,$8C5D,$94B6,$9D8D,$A6EC,$B0D9,$BB5D,$C681,$D24F,$DED0,$EC10,$FA19,$0000,
$002C,$002F,$0032,$0035,$0038,$003B,$003F,$0042,$0046,$004A,$004F,$0054,$0059,$005E,$0063,$0069,$0070,$0076,$007D,$0085,$008D,$0095,$009E,$00A7,$00B1,$00BC,$00C7,$00D3,$00DF,$00EC,$00FB,$0109,$0119,$012A,$013C,$014E,$0162,$0177,$018E,$01A5,$01BE,$01D9,$01F5,$0213,$0232,$0254,$0277,$029D,$02C5,$02EF,$031B,$034B,$037D,$03B2,$03EA,$0426,$0465,$04A8,$04EF,$053A,$0589,$05DE,$0637,$0695,$06FA,$0764,$07D4,$084C,$08CA,$0950,$09DD,$0A74,$0B13,$0BBB,$0C6E,$0D2B,$0DF3,$0EC8,$0FA9,$1097,$1194,$129F,$13BB,$14E7,$1625,$1776,$18DC,$1A56,$1BE7,$1D90,$1F52,$212E,$2327,$253F,$2776,$29CE,$2C4B,$2EED,$31B7,$34AC,$37CE,$3B1F,$3EA3,$425D,$464F,$4A7D,$4EEB,$539C,$5895,$5DDA,$636E,$6958,$6F9C,$763F,$7D47,$84BA,$8C9E,$94FA,$9DD6,$A739,$B12B,$BBB3,$C6DD,$D2B0,$DF37,$EC7D,$FA8D,$0000,
$002C,$002F,$0032,$0035,$0038,$003B,$003F,$0042,$0046,$004B,$004F,$0054,$0059,$005E,$0064,$006A,$0070,$0076,$007E,$0085,$008D,$0095,$009E,$00A8,$00B1,$00BC,$00C7,$00D3,$00E0,$00ED,$00FB,$010A,$011A,$012A,$013C,$014F,$0163,$0178,$018E,$01A6,$01BF,$01DA,$01F6,$0214,$0233,$0255,$0278,$029E,$02C6,$02F0,$031D,$034C,$037E,$03B4,$03EC,$0428,$0467,$04AA,$04F1,$053C,$058C,$05E0,$063A,$0699,$06FD,$0767,$07D8,$084F,$08CE,$0954,$09E2,$0A78,$0B18,$0BC1,$0C74,$0D31,$0DFA,$0ECF,$0FB0,$109F,$119C,$12A8,$13C4,$14F1,$1630,$1781,$18E7,$1A62,$1BF4,$1D9D,$1F60,$213E,$2338,$2550,$2788,$29E2,$2C5F,$2F03,$31CE,$34C4,$37E8,$3B3B,$3EC0,$427B,$466F,$4AA0,$4F10,$53C3,$58BE,$5E05,$639C,$6989,$6FCF,$7675,$7D80,$84F7,$8CDF,$953F,$9E1F,$A786,$B17C,$BC0A,$C739,$D311,$DF9E,$ECEA,$FB01,$0000,
$002C,$002F,$0032,$0035,$0038,$003B,$003F,$0043,$0047,$004B,$004F,$0054,$0059,$005E,$0064,$006A,$0070,$0077,$007E,$0085,$008D,$0096,$009E,$00A8,$00B2,$00BC,$00C8,$00D3,$00E0,$00ED,$00FB,$010A,$011A,$012B,$013D,$0150,$0164,$0179,$018F,$01A7,$01C0,$01DB,$01F7,$0215,$0235,$0256,$027A,$029F,$02C7,$02F2,$031E,$034E,$0380,$03B5,$03EE,$042A,$0469,$04AC,$04F3,$053F,$058E,$05E3,$063D,$069C,$0700,$076B,$07DC,$0853,$08D2,$0958,$09E7,$0A7D,$0B1D,$0BC6,$0C79,$0D37,$0E00,$0ED6,$0FB7,$10A7,$11A4,$12B1,$13CD,$14FA,$163A,$178C,$18F3,$1A6E,$1C01,$1DAB,$1F6F,$214D,$2348,$2561,$279A,$29F5,$2C74,$2F18,$31E5,$34DD,$3801,$3B56,$3EDD,$429A,$4690,$4AC2,$4F34,$53EA,$58E7,$5E31,$63CA,$69BA,$7003,$76AC,$7DBA,$8534,$8D20,$9584,$9E68,$A7D4,$B1CF,$BC61,$C795,$D373,$E006,$ED58,$FB75,$0000,
$002D,$002F,$0032,$0035,$0038,$003B,$003F,$0043,$0047,$004B,$004F,$0054,$0059,$005E,$0064,$006A,$0070,$0077,$007E,$0085,$008D,$0096,$009F,$00A8,$00B2,$00BD,$00C8,$00D4,$00E0,$00EE,$00FC,$010B,$011B,$012C,$013D,$0150,$0164,$0179,$0190,$01A8,$01C1,$01DC,$01F8,$0216,$0236,$0257,$027B,$02A1,$02C9,$02F3,$0320,$034F,$0382,$03B7,$03F0,$042C,$046B,$04AE,$04F6,$0541,$0591,$05E6,$0640,$069F,$0703,$076E,$07DF,$0857,$08D6,$095D,$09EB,$0A82,$0B22,$0BCC,$0C7F,$0D3D,$0E07,$0EDC,$0FBF,$10AE,$11AC,$12B9,$13D6,$1504,$1644,$1797,$18FE,$1A7B,$1C0E,$1DB9,$1F7D,$215D,$2358,$2572,$27AC,$2A08,$2C88,$2F2E,$31FC,$34F5,$381B,$3B71,$3EFA,$42B9,$46B1,$4AE5,$4F59,$5411,$5910,$5E5C,$63F9,$69EA,$7037,$76E3,$7DF5,$8572,$8D61,$95CA,$9EB2,$A821,$B221,$BCB8,$C7F1,$D3D5,$E06D,$EDC6,$FBE9,$0000,
$002D,$002F,$0032,$0035,$0038,$003C,$003F,$0043,$0047,$004B,$004F,$0054,$0059,$005F,$0064,$006A,$0070,$0077,$007E,$0086,$008E,$0096,$009F,$00A8,$00B2,$00BD,$00C8,$00D4,$00E1,$00EE,$00FC,$010B,$011B,$012C,$013E,$0151,$0165,$017A,$0191,$01A8,$01C2,$01DC,$01F9,$0217,$0237,$0258,$027C,$02A2,$02CA,$02F4,$0321,$0351,$0383,$03B9,$03F1,$042D,$046D,$04B0,$04F8,$0543,$0594,$05E8,$0642,$06A2,$0707,$0772,$07E3,$085B,$08DA,$0961,$09F0,$0A87,$0B27,$0BD1,$0C85,$0D43,$0E0D,$0EE3,$0FC6,$10B6,$11B4,$12C2,$13DF,$150E,$164E,$17A2,$190A,$1A87,$1C1B,$1DC6,$1F8C,$216C,$2369,$2584,$27BF,$2A1C,$2C9D,$2F44,$3213,$350E,$3835,$3B8D,$3F17,$42D8,$46D1,$4B07,$4F7E,$5438,$593A,$5E88,$6427,$6A1B,$706B,$771A,$7E2F,$85B0,$8DA3,$960F,$9EFB,$A86F,$B273,$BD10,$C84E,$D437,$E0D5,$EE34,$FC5E,$0000,
$002D,$002F,$0032,$0035,$0038,$003C,$003F,$0043,$0047,$004B,$0050,$0054,$0059,$005F,$0064,$006A,$0071,$0077,$007E,$0086,$008E,$0096,$009F,$00A9,$00B3,$00BD,$00C9,$00D5,$00E1,$00EF,$00FD,$010C,$011C,$012D,$013F,$0151,$0166,$017B,$0191,$01A9,$01C2,$01DD,$01FA,$0218,$0238,$0259,$027D,$02A3,$02CB,$02F6,$0323,$0352,$0385,$03BB,$03F3,$042F,$046F,$04B3,$04FA,$0546,$0596,$05EB,$0645,$06A5,$070A,$0775,$07E7,$085F,$08DE,$0965,$09F4,$0A8C,$0B2C,$0BD6,$0C8B,$0D4A,$0E14,$0EEA,$0FCD,$10BE,$11BD,$12CB,$13E9,$1518,$1659,$17AD,$1915,$1A93,$1C28,$1DD4,$1F9A,$217B,$2379,$2595,$27D1,$2A2F,$2CB1,$2F5A,$322B,$3526,$384F,$3BA8,$3F35,$42F7,$46F2,$4B2A,$4FA2,$545F,$5963,$5EB4,$6455,$6A4C,$709F,$7751,$7E69,$85EE,$8DE4,$9654,$9F45,$A8BD,$B2C6,$BD67,$C8AA,$D499,$E13D,$EEA2,$FCD3,$0000,
$002D,$002F,$0032,$0035,$0038,$003C,$003F,$0043,$0047,$004B,$0050,$0055,$005A,$005F,$0065,$006A,$0071,$0078,$007F,$0086,$008E,$0097,$00A0,$00A9,$00B3,$00BE,$00C9,$00D5,$00E2,$00EF,$00FD,$010C,$011C,$012D,$013F,$0152,$0166,$017B,$0192,$01AA,$01C3,$01DE,$01FB,$0219,$0239,$025A,$027E,$02A4,$02CC,$02F7,$0324,$0354,$0387,$03BC,$03F5,$0431,$0471,$04B5,$04FC,$0548,$0599,$05EE,$0648,$06A8,$070D,$0779,$07EA,$0863,$08E2,$096A,$09F9,$0A91,$0B32,$0BDC,$0C90,$0D50,$0E1A,$0EF1,$0FD4,$10C5,$11C5,$12D3,$13F2,$1521,$1663,$17B8,$1921,$1A9F,$1C35,$1DE2,$1FA9,$218B,$2389,$25A6,$27E4,$2A43,$2CC6,$2F70,$3242,$353F,$3869,$3BC4,$3F52,$4316,$4713,$4B4D,$4FC7,$5486,$598C,$5EDF,$6484,$6A7E,$70D3,$7788,$7EA4,$862C,$8E26,$969A,$9F8E,$A90B,$B318,$BDBF,$C907,$D4FB,$E1A5,$EF10,$FD47,$0000,
$002D,$0030,$0032,$0035,$0039,$003C,$003F,$0043,$0047,$004B,$0050,$0055,$005A,$005F,$0065,$006B,$0071,$0078,$007F,$0086,$008E,$0097,$00A0,$00A9,$00B3,$00BE,$00C9,$00D5,$00E2,$00EF,$00FE,$010D,$011D,$012E,$0140,$0153,$0167,$017C,$0193,$01AB,$01C4,$01DF,$01FB,$021A,$023A,$025B,$027F,$02A5,$02CE,$02F8,$0326,$0355,$0388,$03BE,$03F7,$0433,$0473,$04B7,$04FF,$054B,$059B,$05F1,$064B,$06AB,$0710,$077C,$07EE,$0867,$08E6,$096E,$09FE,$0A96,$0B37,$0BE1,$0C96,$0D56,$0E21,$0EF8,$0FDC,$10CD,$11CD,$12DC,$13FB,$152B,$166D,$17C3,$192D,$1AAC,$1C42,$1DF0,$1FB8,$219A,$239A,$25B8,$27F6,$2A56,$2CDB,$2F86,$3259,$3557,$3883,$3BE0,$3F6F,$4335,$4734,$4B70,$4FEC,$54AD,$59B6,$5F0B,$64B2,$6AAF,$7107,$77BF,$7EDE,$866A,$8E68,$96DF,$9FD8,$A959,$B36B,$BE16,$C964,$D55E,$E20E,$EF7F,$FDBD,$0000,
$002D,$0030,$0032,$0035,$0039,$003C,$0040,$0043,$0047,$004C,$0050,$0055,$005A,$005F,$0065,$006B,$0071,$0078,$007F,$0087,$008F,$0097,$00A0,$00AA,$00B4,$00BE,$00CA,$00D6,$00E2,$00F0,$00FE,$010D,$011D,$012E,$0140,$0153,$0167,$017D,$0194,$01AC,$01C5,$01E0,$01FC,$021B,$023B,$025D,$0281,$02A7,$02CF,$02FA,$0327,$0357,$038A,$03C0,$03F9,$0435,$0475,$04B9,$0501,$054D,$059E,$05F3,$064E,$06AE,$0714,$077F,$07F2,$086A,$08EB,$0972,$0A02,$0A9A,$0B3C,$0BE7,$0C9C,$0D5C,$0E27,$0EFF,$0FE3,$10D5,$11D5,$12E5,$1404,$1535,$1678,$17CE,$1938,$1AB8,$1C4F,$1DFE,$1FC6,$21AA,$23AA,$25C9,$2809,$2A6A,$2CF0,$2F9C,$3270,$3570,$389E,$3BFB,$3F8C,$4354,$4755,$4B93,$5011,$54D4,$59DF,$5F37,$64E1,$6AE0,$713B,$77F7,$7F19,$86A8,$8EAA,$9725,$A022,$A9A8,$B3BE,$BE6E,$C9C1,$D5C0,$E276,$EFEE,$FE32,$0000,
$002D,$0030,$0033,$0036,$0039,$003C,$0040,$0043,$0047,$004C,$0050,$0055,$005A,$005F,$0065,$006B,$0071,$0078,$007F,$0087,$008F,$0097,$00A0,$00AA,$00B4,$00BF,$00CA,$00D6,$00E3,$00F0,$00FF,$010E,$011E,$012F,$0141,$0154,$0168,$017E,$0194,$01AC,$01C6,$01E1,$01FD,$021C,$023C,$025E,$0282,$02A8,$02D0,$02FB,$0328,$0359,$038B,$03C1,$03FB,$0437,$0477,$04BB,$0503,$0550,$05A1,$05F6,$0651,$06B1,$0717,$0783,$07F5,$086E,$08EF,$0977,$0A07,$0A9F,$0B41,$0BEC,$0CA2,$0D62,$0E2E,$0F06,$0FEA,$10DD,$11DD,$12ED,$140E,$153F,$1682,$17D9,$1944,$1AC4,$1C5C,$1E0C,$1FD5,$21BA,$23BB,$25DB,$281B,$2A7E,$2D04,$2FB2,$3288,$3589,$38B8,$3C17,$3FAA,$4373,$4776,$4BB6,$5036,$54FB,$5A09,$5F63,$650F,$6B12,$7170,$782E,$7F54,$86E6,$8EEC,$976B,$A06C,$A9F6,$B411,$BEC6,$CA1F,$D623,$E2DF,$F05D,$FEA8,$0000,
$002D,$0030,$0033,$0036,$0039,$003C,$0040,$0044,$0048,$004C,$0050,$0055,$005A,$0060,$0065,$006B,$0072,$0078,$0080,$0087,$008F,$0098,$00A1,$00AA,$00B4,$00BF,$00CA,$00D7,$00E3,$00F1,$00FF,$010E,$011E,$012F,$0141,$0155,$0169,$017E,$0195,$01AD,$01C7,$01E2,$01FE,$021D,$023D,$025F,$0283,$02A9,$02D2,$02FC,$032A,$035A,$038D,$03C3,$03FC,$0439,$0479,$04BE,$0506,$0552,$05A3,$05F9,$0654,$06B4,$071A,$0786,$07F9,$0872,$08F3,$097B,$0A0B,$0AA4,$0B46,$0BF2,$0CA8,$0D68,$0E34,$0F0D,$0FF2,$10E5,$11E6,$12F6,$1417,$1549,$168D,$17E4,$1950,$1AD1,$1C69,$1E19,$1FE4,$21C9,$23CB,$25EC,$282E,$2A91,$2D19,$2FC8,$329F,$35A2,$38D2,$3C33,$3FC7,$4392,$4797,$4BD9,$505B,$5522,$5A32,$5F8F,$653E,$6B43,$71A4,$7866,$7F8F,$8724,$8F2E,$97B1,$A0B6,$AA45,$B465,$BF1F,$CA7C,$D686,$E348,$F0CC,$FF1D,$0000,
	);
    PSGNote:integer;
    //yp:byte=15;

procedure SetReg(reg,data :byte);
	begin
	reg:=reg & %00111111;
	PSGLastState[reg]:=data;
	//$1F9C0 - $1F9FF 	PSG registers
	reg:=reg | %11000000; //+$C0;
	VERA_ADDR_HI := $01;
	VERA_ADDR_MID := $F9;
	VERA_ADDR_LO := reg;
	VERA_DATA1 := data;
	end;

procedure Reset(); 
	var i : byte;
	begin
    fori i := 0 to 63 do SetReg(i,0);
	end;

procedure SetFreq(chn:byte, data:integer);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	SetReg(reg,data);
	inc(reg);
	SetReg(reg,data>>8);
	end;

procedure SetVol(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+2;
	data:=data&%00111111;	
	PSGLastState[reg]:=PSGLastState[reg]&%11000000;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;
	
procedure SetL(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+2;
	data:=data&%00000001;
	data:=data<<6;
	PSGLastState[reg]:=PSGLastState[reg]&%10111111;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;

procedure SetR(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+2;
	data:=data&%00000001;
	data:=data<<7;
	PSGLastState[reg]:=PSGLastState[reg]&%01111111;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;
	
procedure SetWF(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+3;
	data:=data&%00000011;
	data:=data<<6;
	PSGLastState[reg]:=PSGLastState[reg]&%00111111;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;

procedure SetPW(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+3;
	data:=data&%00111111;
	PSGLastState[reg]:=PSGLastState[reg]&%11000000;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;

procedure getFreq(octave,note,detune:byte);
var ntp:pointer;
	tableselect:integer;
	tablepos:byte;
	reladdr:integer;
	begin
	
	ntp:=PSGNoteTable[0];
	tableselect:=detune<<8;	
	tablepos:=((octave*12)+note)*2;
	reladdr:=tableselect+tablepos;
	ntp:=ntp+reladdr;
	PSGNote:=ntp[0];
	PSGNote:=PSGNote+ntp[1]<<8;


//	SCF::DrawHexByte(0, yp, octave, 7);
//	SCF::DrawHexByte(10, yp, note, 7);
//	SCF::DrawHexByte(20, yp, detune, 7);
//	SCF::DrawHexInt(30, yp, ntp, 7);
//	SCF::DrawHexInt(40, yp, tableselect, 7);
//	SCF::DrawHexByte(50, yp, tablepos, 7);
//	SCF::DrawHexInt(60, yp, reladdr, 7);
//	SCF::DrawHexInt(70, yp, PSGNote, 7);
//	inc(yp);

	end;

procedure SetNote(chn,octave,note,detune:byte);
	begin
	getFreq(octave,note,detune);
	SetFreq(chn,PSGNote);
	end;
	
end.
