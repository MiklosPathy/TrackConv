Unit PSG;
@use "SCF"

var  
    PSGLastState: array[64] of byte;
    //PSGNoteTable: array[128] of integer = (41,44,47,49,52,55,59,62,66,70,74,78,83,88,93,99,104,111,117,124,132,139,148,156,166,176,186,197,209,221,234,248,263,279,295,313,331,351,372,394,418,442,469,497,526,557,591,626,663,702,744,788,835,885,937,993,1052,1115,1181,1251,1326,1405,1488,1577,1670,1770,1875,1986,2105,2230,2362,2503,2652,2809,2976,3153,3341,3539,3750,3973,4209,4459,4724,5005,5303,5618,5952,6306,6681,7079,7500,7946,8418,8919,9449,10011,10606,11237,11905,12613,13363,14157,14999,15891,16836,17837,18898,20022,21212,22474,23810,25226,26726,28315,29999,31782,33672,35674,37796,40043,42424,44947,47620,50451,53451,56630,59997,63565);
	PSGNoteTable: array[4096] of integer = (
$0028,$0028,$0028,$0028,$0029,$0029,$0029,$0029,$0029,$0029,$0029,$0029,$0029,$0029,$0029,$0029,$0029,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002A,$002B,
$002B,$002B,$002B,$002B,$002B,$002B,$002B,$002B,$002B,$002B,$002B,$002B,$002C,$002C,$002C,$002C,$002C,$002C,$002C,$002C,$002C,$002C,$002C,$002C,$002D,$002D,$002D,$002D,$002D,$002D,$002D,$002D,
$002D,$002D,$002D,$002D,$002E,$002E,$002E,$002E,$002E,$002E,$002E,$002E,$002E,$002E,$002E,$002E,$002F,$002F,$002F,$002F,$002F,$002F,$002F,$002F,$002F,$002F,$002F,$002F,$0030,$0030,$0030,$0030,
$0030,$0030,$0030,$0030,$0030,$0030,$0030,$0030,$0031,$0031,$0031,$0031,$0031,$0031,$0031,$0031,$0031,$0031,$0031,$0032,$0032,$0032,$0032,$0032,$0032,$0032,$0032,$0032,$0032,$0032,$0033,$0033,
$0033,$0033,$0033,$0033,$0033,$0033,$0033,$0033,$0033,$0034,$0034,$0034,$0034,$0034,$0034,$0034,$0034,$0034,$0034,$0034,$0035,$0035,$0035,$0035,$0035,$0035,$0035,$0035,$0035,$0035,$0036,$0036,
$0036,$0036,$0036,$0036,$0036,$0036,$0036,$0036,$0037,$0037,$0037,$0037,$0037,$0037,$0037,$0037,$0037,$0037,$0038,$0038,$0038,$0038,$0038,$0038,$0038,$0038,$0038,$0038,$0039,$0039,$0039,$0039,
$0039,$0039,$0039,$0039,$0039,$0039,$003A,$003A,$003A,$003A,$003A,$003A,$003A,$003A,$003A,$003A,$003B,$003B,$003B,$003B,$003B,$003B,$003B,$003B,$003B,$003C,$003C,$003C,$003C,$003C,$003C,$003C,
$003C,$003C,$003D,$003D,$003D,$003D,$003D,$003D,$003D,$003D,$003D,$003E,$003E,$003E,$003E,$003E,$003E,$003E,$003E,$003E,$003F,$003F,$003F,$003F,$003F,$003F,$003F,$003F,$003F,$0040,$0040,$0040,
$0040,$0040,$0040,$0040,$0040,$0040,$0041,$0041,$0041,$0041,$0041,$0041,$0041,$0041,$0042,$0042,$0042,$0042,$0042,$0042,$0042,$0042,$0042,$0043,$0043,$0043,$0043,$0043,$0043,$0043,$0043,$0044,
$0044,$0044,$0044,$0044,$0044,$0044,$0044,$0045,$0045,$0045,$0045,$0045,$0045,$0045,$0045,$0046,$0046,$0046,$0046,$0046,$0046,$0046,$0046,$0047,$0047,$0047,$0047,$0047,$0047,$0047,$0047,$0048,
$0048,$0048,$0048,$0048,$0048,$0048,$0048,$0049,$0049,$0049,$0049,$0049,$0049,$0049,$004A,$004A,$004A,$004A,$004A,$004A,$004A,$004A,$004B,$004B,$004B,$004B,$004B,$004B,$004B,$004C,$004C,$004C,
$004C,$004C,$004C,$004C,$004D,$004D,$004D,$004D,$004D,$004D,$004D,$004E,$004E,$004E,$004E,$004E,$004E,$004E,$004E,$004F,$004F,$004F,$004F,$004F,$004F,$004F,$0050,$0050,$0050,$0050,$0050,$0050,
$0051,$0051,$0051,$0051,$0051,$0051,$0051,$0052,$0052,$0052,$0052,$0052,$0052,$0052,$0053,$0053,$0053,$0053,$0053,$0053,$0053,$0054,$0054,$0054,$0054,$0054,$0054,$0055,$0055,$0055,$0055,$0055,
$0055,$0055,$0056,$0056,$0056,$0056,$0056,$0056,$0057,$0057,$0057,$0057,$0057,$0057,$0057,$0058,$0058,$0058,$0058,$0058,$0058,$0059,$0059,$0059,$0059,$0059,$0059,$005A,$005A,$005A,$005A,$005A,
$005A,$005B,$005B,$005B,$005B,$005B,$005B,$005C,$005C,$005C,$005C,$005C,$005C,$005D,$005D,$005D,$005D,$005D,$005D,$005E,$005E,$005E,$005E,$005E,$005E,$005F,$005F,$005F,$005F,$005F,$005F,$0060,
$0060,$0060,$0060,$0060,$0060,$0061,$0061,$0061,$0061,$0061,$0061,$0062,$0062,$0062,$0062,$0062,$0063,$0063,$0063,$0063,$0063,$0063,$0064,$0064,$0064,$0064,$0064,$0065,$0065,$0065,$0065,$0065,
$0065,$0066,$0066,$0066,$0066,$0066,$0067,$0067,$0067,$0067,$0067,$0067,$0068,$0068,$0068,$0068,$0068,$0069,$0069,$0069,$0069,$0069,$006A,$006A,$006A,$006A,$006A,$006A,$006B,$006B,$006B,$006B,
$006B,$006C,$006C,$006C,$006C,$006C,$006D,$006D,$006D,$006D,$006D,$006E,$006E,$006E,$006E,$006E,$006F,$006F,$006F,$006F,$006F,$0070,$0070,$0070,$0070,$0070,$0071,$0071,$0071,$0071,$0071,$0072,
$0072,$0072,$0072,$0072,$0073,$0073,$0073,$0073,$0074,$0074,$0074,$0074,$0074,$0075,$0075,$0075,$0075,$0075,$0076,$0076,$0076,$0076,$0076,$0077,$0077,$0077,$0077,$0078,$0078,$0078,$0078,$0078,
$0079,$0079,$0079,$0079,$0079,$007A,$007A,$007A,$007A,$007B,$007B,$007B,$007B,$007B,$007C,$007C,$007C,$007C,$007D,$007D,$007D,$007D,$007E,$007E,$007E,$007E,$007E,$007F,$007F,$007F,$007F,$0080,
$0080,$0080,$0080,$0080,$0081,$0081,$0081,$0081,$0082,$0082,$0082,$0082,$0083,$0083,$0083,$0083,$0084,$0084,$0084,$0084,$0084,$0085,$0085,$0085,$0085,$0086,$0086,$0086,$0086,$0087,$0087,$0087,
$0087,$0088,$0088,$0088,$0088,$0089,$0089,$0089,$0089,$008A,$008A,$008A,$008A,$008B,$008B,$008B,$008B,$008C,$008C,$008C,$008C,$008D,$008D,$008D,$008D,$008E,$008E,$008E,$008E,$008F,$008F,$008F,
$008F,$0090,$0090,$0090,$0090,$0091,$0091,$0091,$0092,$0092,$0092,$0092,$0093,$0093,$0093,$0093,$0094,$0094,$0094,$0094,$0095,$0095,$0095,$0096,$0096,$0096,$0096,$0097,$0097,$0097,$0097,$0098,
$0098,$0098,$0099,$0099,$0099,$0099,$009A,$009A,$009A,$009A,$009B,$009B,$009B,$009C,$009C,$009C,$009C,$009D,$009D,$009D,$009E,$009E,$009E,$009E,$009F,$009F,$009F,$00A0,$00A0,$00A0,$00A0,$00A1,
$00A1,$00A1,$00A2,$00A2,$00A2,$00A2,$00A3,$00A3,$00A3,$00A4,$00A4,$00A4,$00A5,$00A5,$00A5,$00A5,$00A6,$00A6,$00A6,$00A7,$00A7,$00A7,$00A8,$00A8,$00A8,$00A8,$00A9,$00A9,$00A9,$00AA,$00AA,$00AA,
$00AB,$00AB,$00AB,$00AC,$00AC,$00AC,$00AC,$00AD,$00AD,$00AD,$00AE,$00AE,$00AE,$00AF,$00AF,$00AF,$00B0,$00B0,$00B0,$00B1,$00B1,$00B1,$00B1,$00B2,$00B2,$00B2,$00B3,$00B3,$00B3,$00B4,$00B4,$00B4,
$00B5,$00B5,$00B5,$00B6,$00B6,$00B6,$00B7,$00B7,$00B7,$00B8,$00B8,$00B8,$00B9,$00B9,$00B9,$00BA,$00BA,$00BA,$00BB,$00BB,$00BB,$00BC,$00BC,$00BC,$00BD,$00BD,$00BD,$00BE,$00BE,$00BE,$00BF,$00BF,
$00BF,$00C0,$00C0,$00C1,$00C1,$00C1,$00C2,$00C2,$00C2,$00C3,$00C3,$00C3,$00C4,$00C4,$00C4,$00C5,$00C5,$00C5,$00C6,$00C6,$00C7,$00C7,$00C7,$00C8,$00C8,$00C8,$00C9,$00C9,$00C9,$00CA,$00CA,$00CA,
$00CB,$00CB,$00CC,$00CC,$00CC,$00CD,$00CD,$00CD,$00CE,$00CE,$00CF,$00CF,$00CF,$00D0,$00D0,$00D0,$00D1,$00D1,$00D2,$00D2,$00D2,$00D3,$00D3,$00D3,$00D4,$00D4,$00D5,$00D5,$00D5,$00D6,$00D6,$00D7,
$00D7,$00D7,$00D8,$00D8,$00D8,$00D9,$00D9,$00DA,$00DA,$00DA,$00DB,$00DB,$00DC,$00DC,$00DC,$00DD,$00DD,$00DE,$00DE,$00DE,$00DF,$00DF,$00E0,$00E0,$00E0,$00E1,$00E1,$00E2,$00E2,$00E2,$00E3,$00E3,
$00E4,$00E4,$00E5,$00E5,$00E5,$00E6,$00E6,$00E7,$00E7,$00E7,$00E8,$00E8,$00E9,$00E9,$00EA,$00EA,$00EA,$00EB,$00EB,$00EC,$00EC,$00EC,$00ED,$00ED,$00EE,$00EE,$00EF,$00EF,$00EF,$00F0,$00F0,$00F1,
$00F1,$00F2,$00F2,$00F3,$00F3,$00F3,$00F4,$00F4,$00F5,$00F5,$00F6,$00F6,$00F7,$00F7,$00F7,$00F8,$00F8,$00F9,$00F9,$00FA,$00FA,$00FB,$00FB,$00FB,$00FC,$00FC,$00FD,$00FD,$00FE,$00FE,$00FF,$00FF,
$0100,$0100,$0100,$0101,$0101,$0102,$0102,$0103,$0103,$0104,$0104,$0105,$0105,$0106,$0106,$0107,$0107,$0108,$0108,$0108,$0109,$0109,$010A,$010A,$010B,$010B,$010C,$010C,$010D,$010D,$010E,$010E,
$010F,$010F,$0110,$0110,$0111,$0111,$0112,$0112,$0113,$0113,$0114,$0114,$0115,$0115,$0116,$0116,$0117,$0117,$0118,$0118,$0119,$0119,$011A,$011A,$011B,$011B,$011C,$011C,$011D,$011D,$011E,$011E,
$011F,$011F,$0120,$0120,$0121,$0121,$0122,$0123,$0123,$0124,$0124,$0125,$0125,$0126,$0126,$0127,$0127,$0128,$0128,$0129,$0129,$012A,$012A,$012B,$012C,$012C,$012D,$012D,$012E,$012E,$012F,$012F,
$0130,$0130,$0131,$0132,$0132,$0133,$0133,$0134,$0134,$0135,$0135,$0136,$0137,$0137,$0138,$0138,$0139,$0139,$013A,$013B,$013B,$013C,$013C,$013D,$013D,$013E,$013F,$013F,$0140,$0140,$0141,$0141,
$0142,$0143,$0143,$0144,$0144,$0145,$0146,$0146,$0147,$0147,$0148,$0148,$0149,$014A,$014A,$014B,$014B,$014C,$014D,$014D,$014E,$014E,$014F,$0150,$0150,$0151,$0151,$0152,$0153,$0153,$0154,$0155,
$0155,$0156,$0156,$0157,$0158,$0158,$0159,$0159,$015A,$015B,$015B,$015C,$015D,$015D,$015E,$015F,$015F,$0160,$0160,$0161,$0162,$0162,$0163,$0164,$0164,$0165,$0166,$0166,$0167,$0167,$0168,$0169,
$0169,$016A,$016B,$016B,$016C,$016D,$016D,$016E,$016F,$016F,$0170,$0171,$0171,$0172,$0173,$0173,$0174,$0175,$0175,$0176,$0177,$0177,$0178,$0179,$0179,$017A,$017B,$017B,$017C,$017D,$017E,$017E,
$017F,$0180,$0180,$0181,$0182,$0182,$0183,$0184,$0185,$0185,$0186,$0187,$0187,$0188,$0189,$0189,$018A,$018B,$018C,$018C,$018D,$018E,$018E,$018F,$0190,$0191,$0191,$0192,$0193,$0194,$0194,$0195,
$0196,$0196,$0197,$0198,$0199,$0199,$019A,$019B,$019C,$019C,$019D,$019E,$019F,$019F,$01A0,$01A1,$01A2,$01A2,$01A3,$01A4,$01A5,$01A5,$01A6,$01A7,$01A8,$01A8,$01A9,$01AA,$01AB,$01AC,$01AC,$01AD,
$01AE,$01AF,$01AF,$01B0,$01B1,$01B2,$01B3,$01B3,$01B4,$01B5,$01B6,$01B6,$01B7,$01B8,$01B9,$01BA,$01BA,$01BB,$01BC,$01BD,$01BE,$01BE,$01BF,$01C0,$01C1,$01C2,$01C2,$01C3,$01C4,$01C5,$01C6,$01C7,
$01C7,$01C8,$01C9,$01CA,$01CB,$01CC,$01CC,$01CD,$01CE,$01CF,$01D0,$01D1,$01D1,$01D2,$01D3,$01D4,$01D5,$01D6,$01D6,$01D7,$01D8,$01D9,$01DA,$01DB,$01DC,$01DC,$01DD,$01DE,$01DF,$01E0,$01E1,$01E2,
$01E2,$01E3,$01E4,$01E5,$01E6,$01E7,$01E8,$01E9,$01E9,$01EA,$01EB,$01EC,$01ED,$01EE,$01EF,$01F0,$01F1,$01F1,$01F2,$01F3,$01F4,$01F5,$01F6,$01F7,$01F8,$01F9,$01FA,$01FB,$01FB,$01FC,$01FD,$01FE,
$01FF,$0200,$0201,$0202,$0203,$0204,$0205,$0206,$0207,$0208,$0208,$0209,$020A,$020B,$020C,$020D,$020E,$020F,$0210,$0211,$0212,$0213,$0214,$0215,$0216,$0217,$0218,$0219,$021A,$021B,$021C,$021D,
$021E,$021F,$0220,$0220,$0221,$0222,$0223,$0224,$0225,$0226,$0227,$0228,$0229,$022A,$022B,$022C,$022D,$022E,$022F,$0230,$0231,$0232,$0233,$0235,$0236,$0237,$0238,$0239,$023A,$023B,$023C,$023D,
$023E,$023F,$0240,$0241,$0242,$0243,$0244,$0245,$0246,$0247,$0248,$0249,$024A,$024B,$024C,$024D,$024F,$0250,$0251,$0252,$0253,$0254,$0255,$0256,$0257,$0258,$0259,$025A,$025B,$025D,$025E,$025F,
$0260,$0261,$0262,$0263,$0264,$0265,$0266,$0268,$0269,$026A,$026B,$026C,$026D,$026E,$026F,$0271,$0272,$0273,$0274,$0275,$0276,$0277,$0278,$027A,$027B,$027C,$027D,$027E,$027F,$0281,$0282,$0283,
$0284,$0285,$0286,$0288,$0289,$028A,$028B,$028C,$028D,$028F,$0290,$0291,$0292,$0293,$0294,$0296,$0297,$0298,$0299,$029A,$029C,$029D,$029E,$029F,$02A1,$02A2,$02A3,$02A4,$02A5,$02A7,$02A8,$02A9,
$02AA,$02AC,$02AD,$02AE,$02AF,$02B0,$02B2,$02B3,$02B4,$02B5,$02B7,$02B8,$02B9,$02BB,$02BC,$02BD,$02BE,$02C0,$02C1,$02C2,$02C3,$02C5,$02C6,$02C7,$02C9,$02CA,$02CB,$02CC,$02CE,$02CF,$02D0,$02D2,
$02D3,$02D4,$02D5,$02D7,$02D8,$02D9,$02DB,$02DC,$02DD,$02DF,$02E0,$02E1,$02E3,$02E4,$02E5,$02E7,$02E8,$02E9,$02EB,$02EC,$02ED,$02EF,$02F0,$02F2,$02F3,$02F4,$02F6,$02F7,$02F8,$02FA,$02FB,$02FC,
$02FE,$02FF,$0301,$0302,$0303,$0305,$0306,$0308,$0309,$030A,$030C,$030D,$030F,$0310,$0311,$0313,$0314,$0316,$0317,$0319,$031A,$031B,$031D,$031E,$0320,$0321,$0323,$0324,$0326,$0327,$0328,$032A,
$032B,$032D,$032E,$0330,$0331,$0333,$0334,$0336,$0337,$0339,$033A,$033C,$033D,$033F,$0340,$0342,$0343,$0345,$0346,$0348,$0349,$034B,$034C,$034E,$034F,$0351,$0352,$0354,$0355,$0357,$0359,$035A,
$035C,$035D,$035F,$0360,$0362,$0363,$0365,$0367,$0368,$036A,$036B,$036D,$036E,$0370,$0372,$0373,$0375,$0376,$0378,$037A,$037B,$037D,$037E,$0380,$0382,$0383,$0385,$0387,$0388,$038A,$038B,$038D,
$038F,$0390,$0392,$0394,$0395,$0397,$0399,$039A,$039C,$039E,$039F,$03A1,$03A3,$03A4,$03A6,$03A8,$03A9,$03AB,$03AD,$03AF,$03B0,$03B2,$03B4,$03B5,$03B7,$03B9,$03BB,$03BC,$03BE,$03C0,$03C1,$03C3,
$03C5,$03C7,$03C8,$03CA,$03CC,$03CE,$03CF,$03D1,$03D3,$03D5,$03D7,$03D8,$03DA,$03DC,$03DE,$03DF,$03E1,$03E3,$03E5,$03E7,$03E8,$03EA,$03EC,$03EE,$03F0,$03F1,$03F3,$03F5,$03F7,$03F9,$03FB,$03FC,
$03FE,$0400,$0402,$0404,$0406,$0408,$0409,$040B,$040D,$040F,$0411,$0413,$0415,$0417,$0418,$041A,$041C,$041E,$0420,$0422,$0424,$0426,$0428,$042A,$042C,$042D,$042F,$0431,$0433,$0435,$0437,$0439,
$043B,$043D,$043F,$0441,$0443,$0445,$0447,$0449,$044B,$044D,$044F,$0451,$0453,$0455,$0457,$0459,$045B,$045D,$045F,$0461,$0463,$0465,$0467,$0469,$046B,$046D,$046F,$0471,$0473,$0475,$0477,$0479,
$047B,$047E,$0480,$0482,$0484,$0486,$0488,$048A,$048C,$048E,$0490,$0493,$0495,$0497,$0499,$049B,$049D,$049F,$04A1,$04A4,$04A6,$04A8,$04AA,$04AC,$04AE,$04B0,$04B3,$04B5,$04B7,$04B9,$04BB,$04BE,
$04C0,$04C2,$04C4,$04C6,$04C9,$04CB,$04CD,$04CF,$04D1,$04D4,$04D6,$04D8,$04DA,$04DD,$04DF,$04E1,$04E3,$04E6,$04E8,$04EA,$04EC,$04EF,$04F1,$04F3,$04F6,$04F8,$04FA,$04FC,$04FF,$0501,$0503,$0506,
$0508,$050A,$050D,$050F,$0511,$0514,$0516,$0518,$051B,$051D,$051F,$0522,$0524,$0527,$0529,$052B,$052E,$0530,$0533,$0535,$0537,$053A,$053C,$053F,$0541,$0543,$0546,$0548,$054B,$054D,$0550,$0552,
$0555,$0557,$055A,$055C,$055E,$0561,$0563,$0566,$0568,$056B,$056D,$0570,$0572,$0575,$0578,$057A,$057D,$057F,$0582,$0584,$0587,$0589,$058C,$058E,$0591,$0594,$0596,$0599,$059B,$059E,$05A1,$05A3,
$05A6,$05A8,$05AB,$05AE,$05B0,$05B3,$05B5,$05B8,$05BB,$05BD,$05C0,$05C3,$05C5,$05C8,$05CB,$05CD,$05D0,$05D3,$05D5,$05D8,$05DB,$05DE,$05E0,$05E3,$05E6,$05E8,$05EB,$05EE,$05F1,$05F3,$05F6,$05F9,
$05FC,$05FE,$0601,$0604,$0607,$060A,$060C,$060F,$0612,$0615,$0618,$061A,$061D,$0620,$0623,$0626,$0629,$062B,$062E,$0631,$0634,$0637,$063A,$063D,$0640,$0642,$0645,$0648,$064B,$064E,$0651,$0654,
$0657,$065A,$065D,$0660,$0663,$0666,$0668,$066B,$066E,$0671,$0674,$0677,$067A,$067D,$0680,$0683,$0686,$0689,$068C,$068F,$0692,$0695,$0699,$069C,$069F,$06A2,$06A5,$06A8,$06AB,$06AE,$06B1,$06B4,
$06B7,$06BA,$06BE,$06C1,$06C4,$06C7,$06CA,$06CD,$06D0,$06D3,$06D7,$06DA,$06DD,$06E0,$06E3,$06E6,$06EA,$06ED,$06F0,$06F3,$06F7,$06FA,$06FD,$0700,$0703,$0707,$070A,$070D,$0710,$0714,$0717,$071A,
$071E,$0721,$0724,$0727,$072B,$072E,$0731,$0735,$0738,$073B,$073F,$0742,$0745,$0749,$074C,$0750,$0753,$0756,$075A,$075D,$0760,$0764,$0767,$076B,$076E,$0772,$0775,$0779,$077C,$077F,$0783,$0786,
$078A,$078D,$0791,$0794,$0798,$079B,$079F,$07A2,$07A6,$07A9,$07AD,$07B1,$07B4,$07B8,$07BB,$07BF,$07C2,$07C6,$07CA,$07CD,$07D1,$07D4,$07D8,$07DC,$07DF,$07E3,$07E7,$07EA,$07EE,$07F2,$07F5,$07F9,
$07FD,$0800,$0804,$0808,$080B,$080F,$0813,$0817,$081A,$081E,$0822,$0826,$0829,$082D,$0831,$0835,$0839,$083C,$0840,$0844,$0848,$084C,$084F,$0853,$0857,$085B,$085F,$0863,$0867,$086A,$086E,$0872,
$0876,$087A,$087E,$0882,$0886,$088A,$088E,$0892,$0896,$089A,$089E,$08A2,$08A6,$08AA,$08AE,$08B2,$08B6,$08BA,$08BE,$08C2,$08C6,$08CA,$08CE,$08D2,$08D6,$08DA,$08DE,$08E2,$08E6,$08EB,$08EF,$08F3,
$08F7,$08FB,$08FF,$0903,$0908,$090C,$0910,$0914,$0918,$091D,$0921,$0925,$0929,$092D,$0932,$0936,$093A,$093F,$0943,$0947,$094B,$0950,$0954,$0958,$095D,$0961,$0965,$096A,$096E,$0972,$0977,$097B,
$097F,$0984,$0988,$098D,$0991,$0996,$099A,$099E,$09A3,$09A7,$09AC,$09B0,$09B5,$09B9,$09BE,$09C2,$09C7,$09CB,$09D0,$09D4,$09D9,$09DD,$09E2,$09E7,$09EB,$09F0,$09F4,$09F9,$09FE,$0A02,$0A07,$0A0B,
$0A10,$0A15,$0A19,$0A1E,$0A23,$0A27,$0A2C,$0A31,$0A36,$0A3A,$0A3F,$0A44,$0A48,$0A4D,$0A52,$0A57,$0A5C,$0A60,$0A65,$0A6A,$0A6F,$0A74,$0A78,$0A7D,$0A82,$0A87,$0A8C,$0A91,$0A96,$0A9A,$0A9F,$0AA4,
$0AA9,$0AAE,$0AB3,$0AB8,$0ABD,$0AC2,$0AC7,$0ACC,$0AD1,$0AD6,$0ADB,$0AE0,$0AE5,$0AEA,$0AEF,$0AF4,$0AF9,$0AFE,$0B03,$0B08,$0B0E,$0B13,$0B18,$0B1D,$0B22,$0B27,$0B2C,$0B32,$0B37,$0B3C,$0B41,$0B46,
$0B4C,$0B51,$0B56,$0B5B,$0B60,$0B66,$0B6B,$0B70,$0B76,$0B7B,$0B80,$0B85,$0B8B,$0B90,$0B96,$0B9B,$0BA0,$0BA6,$0BAB,$0BB0,$0BB6,$0BBB,$0BC1,$0BC6,$0BCC,$0BD1,$0BD6,$0BDC,$0BE1,$0BE7,$0BEC,$0BF2,
$0BF7,$0BFD,$0C03,$0C08,$0C0E,$0C13,$0C19,$0C1E,$0C24,$0C2A,$0C2F,$0C35,$0C3B,$0C40,$0C46,$0C4C,$0C51,$0C57,$0C5D,$0C62,$0C68,$0C6E,$0C74,$0C79,$0C7F,$0C85,$0C8B,$0C90,$0C96,$0C9C,$0CA2,$0CA8,
$0CAE,$0CB3,$0CB9,$0CBF,$0CC5,$0CCB,$0CD1,$0CD7,$0CDD,$0CE3,$0CE9,$0CEF,$0CF5,$0CFB,$0D01,$0D07,$0D0D,$0D13,$0D19,$0D1F,$0D25,$0D2B,$0D31,$0D37,$0D3D,$0D43,$0D4A,$0D50,$0D56,$0D5C,$0D62,$0D68,
$0D6F,$0D75,$0D7B,$0D81,$0D88,$0D8E,$0D94,$0D9A,$0DA1,$0DA7,$0DAD,$0DB4,$0DBA,$0DC0,$0DC7,$0DCD,$0DD3,$0DDA,$0DE0,$0DE7,$0DED,$0DF3,$0DFA,$0E00,$0E07,$0E0D,$0E14,$0E1A,$0E21,$0E27,$0E2E,$0E34,
$0E3B,$0E42,$0E48,$0E4F,$0E55,$0E5C,$0E63,$0E69,$0E70,$0E77,$0E7D,$0E84,$0E8B,$0E92,$0E98,$0E9F,$0EA6,$0EAD,$0EB3,$0EBA,$0EC1,$0EC8,$0ECF,$0ED6,$0EDC,$0EE3,$0EEA,$0EF1,$0EF8,$0EFF,$0F06,$0F0D,
$0F14,$0F1B,$0F22,$0F29,$0F30,$0F37,$0F3E,$0F45,$0F4C,$0F53,$0F5A,$0F61,$0F68,$0F6F,$0F76,$0F7E,$0F85,$0F8C,$0F93,$0F9A,$0FA2,$0FA9,$0FB0,$0FB7,$0FBF,$0FC6,$0FCD,$0FD4,$0FDC,$0FE3,$0FEA,$0FF2,
$0FF9,$1001,$1008,$100F,$1017,$101E,$1026,$102D,$1035,$103C,$1044,$104B,$1053,$105A,$1062,$1069,$1071,$1079,$1080,$1088,$1090,$1097,$109F,$10A7,$10AE,$10B6,$10BE,$10C5,$10CD,$10D5,$10DD,$10E5,
$10EC,$10F4,$10FC,$1104,$110C,$1114,$111C,$1123,$112B,$1133,$113B,$1143,$114B,$1153,$115B,$1163,$116B,$1173,$117B,$1184,$118C,$1194,$119C,$11A4,$11AC,$11B4,$11BD,$11C5,$11CD,$11D5,$11DD,$11E6,
$11EE,$11F6,$11FF,$1207,$120F,$1218,$1220,$1228,$1231,$1239,$1242,$124A,$1252,$125B,$1263,$126C,$1274,$127D,$1286,$128E,$1297,$129F,$12A8,$12B1,$12B9,$12C2,$12CB,$12D3,$12DC,$12E5,$12ED,$12F6,
$12FF,$1308,$1311,$1319,$1322,$132B,$1334,$133D,$1346,$134F,$1357,$1360,$1369,$1372,$137B,$1384,$138D,$1396,$13A0,$13A9,$13B2,$13BB,$13C4,$13CD,$13D6,$13DF,$13E9,$13F2,$13FB,$1404,$140E,$1417,
$1420,$1429,$1433,$143C,$1445,$144F,$1458,$1462,$146B,$1474,$147E,$1487,$1491,$149A,$14A4,$14AD,$14B7,$14C1,$14CA,$14D4,$14DD,$14E7,$14F1,$14FA,$1504,$150E,$1518,$1521,$152B,$1535,$153F,$1549,
$1552,$155C,$1566,$1570,$157A,$1584,$158E,$1598,$15A2,$15AC,$15B6,$15C0,$15CA,$15D4,$15DE,$15E8,$15F2,$15FD,$1607,$1611,$161B,$1625,$1630,$163A,$1644,$164E,$1659,$1663,$166D,$1678,$1682,$168D,
$1697,$16A1,$16AC,$16B6,$16C1,$16CB,$16D6,$16E1,$16EB,$16F6,$1700,$170B,$1716,$1720,$172B,$1736,$1740,$174B,$1756,$1761,$176C,$1776,$1781,$178C,$1797,$17A2,$17AD,$17B8,$17C3,$17CE,$17D9,$17E4,
$17EF,$17FA,$1805,$1810,$181B,$1826,$1832,$183D,$1848,$1853,$185E,$186A,$1875,$1880,$188C,$1897,$18A2,$18AE,$18B9,$18C5,$18D0,$18DC,$18E7,$18F3,$18FE,$190A,$1915,$1921,$192D,$1938,$1944,$1950,
$195B,$1967,$1973,$197E,$198A,$1996,$19A2,$19AE,$19BA,$19C6,$19D1,$19DD,$19E9,$19F5,$1A01,$1A0D,$1A19,$1A25,$1A32,$1A3E,$1A4A,$1A56,$1A62,$1A6E,$1A7B,$1A87,$1A93,$1A9F,$1AAC,$1AB8,$1AC4,$1AD1,
$1ADD,$1AEA,$1AF6,$1B03,$1B0F,$1B1C,$1B28,$1B35,$1B41,$1B4E,$1B5A,$1B67,$1B74,$1B80,$1B8D,$1B9A,$1BA7,$1BB4,$1BC0,$1BCD,$1BDA,$1BE7,$1BF4,$1C01,$1C0E,$1C1B,$1C28,$1C35,$1C42,$1C4F,$1C5C,$1C69,
$1C76,$1C83,$1C90,$1C9E,$1CAB,$1CB8,$1CC5,$1CD3,$1CE0,$1CED,$1CFB,$1D08,$1D16,$1D23,$1D31,$1D3E,$1D4C,$1D59,$1D67,$1D74,$1D82,$1D90,$1D9D,$1DAB,$1DB9,$1DC6,$1DD4,$1DE2,$1DF0,$1DFE,$1E0C,$1E19,
$1E27,$1E35,$1E43,$1E51,$1E5F,$1E6D,$1E7B,$1E8A,$1E98,$1EA6,$1EB4,$1EC2,$1ED0,$1EDF,$1EED,$1EFB,$1F0A,$1F18,$1F26,$1F35,$1F43,$1F52,$1F60,$1F6F,$1F7D,$1F8C,$1F9A,$1FA9,$1FB8,$1FC6,$1FD5,$1FE4,
$1FF2,$2001,$2010,$201F,$202E,$203D,$204B,$205A,$2069,$2078,$2087,$2096,$20A5,$20B5,$20C4,$20D3,$20E2,$20F1,$2101,$2110,$211F,$212E,$213E,$214D,$215D,$216C,$217B,$218B,$219A,$21AA,$21BA,$21C9,
$21D9,$21E8,$21F8,$2208,$2218,$2227,$2237,$2247,$2257,$2267,$2277,$2286,$2296,$22A6,$22B6,$22C7,$22D7,$22E7,$22F7,$2307,$2317,$2327,$2338,$2348,$2358,$2369,$2379,$2389,$239A,$23AA,$23BB,$23CB,
$23DC,$23ED,$23FD,$240E,$241E,$242F,$2440,$2451,$2461,$2472,$2483,$2494,$24A5,$24B6,$24C7,$24D8,$24E9,$24FA,$250B,$251C,$252D,$253F,$2550,$2561,$2572,$2584,$2595,$25A6,$25B8,$25C9,$25DB,$25EC,
$25FE,$260F,$2621,$2633,$2644,$2656,$2668,$2679,$268B,$269D,$26AF,$26C1,$26D3,$26E5,$26F7,$2709,$271B,$272D,$273F,$2751,$2763,$2776,$2788,$279A,$27AC,$27BF,$27D1,$27E4,$27F6,$2809,$281B,$282E,
$2840,$2853,$2865,$2878,$288B,$289E,$28B0,$28C3,$28D6,$28E9,$28FC,$290F,$2922,$2935,$2948,$295B,$296E,$2981,$2994,$29A8,$29BB,$29CE,$29E2,$29F5,$2A08,$2A1C,$2A2F,$2A43,$2A56,$2A6A,$2A7E,$2A91,
$2AA5,$2AB9,$2ACC,$2AE0,$2AF4,$2B08,$2B1C,$2B30,$2B44,$2B58,$2B6C,$2B80,$2B94,$2BA8,$2BBC,$2BD0,$2BE5,$2BF9,$2C0D,$2C22,$2C36,$2C4B,$2C5F,$2C74,$2C88,$2C9D,$2CB1,$2CC6,$2CDB,$2CF0,$2D04,$2D19,
$2D2E,$2D43,$2D58,$2D6D,$2D82,$2D97,$2DAC,$2DC1,$2DD6,$2DEB,$2E01,$2E16,$2E2B,$2E41,$2E56,$2E6B,$2E81,$2E96,$2EAC,$2EC2,$2ED7,$2EED,$2F03,$2F18,$2F2E,$2F44,$2F5A,$2F70,$2F86,$2F9C,$2FB2,$2FC8,
$2FDE,$2FF4,$300A,$3020,$3037,$304D,$3063,$307A,$3090,$30A6,$30BD,$30D4,$30EA,$3101,$3117,$312E,$3145,$315C,$3172,$3189,$31A0,$31B7,$31CE,$31E5,$31FC,$3213,$322B,$3242,$3259,$3270,$3288,$329F,
$32B6,$32CE,$32E5,$32FD,$3314,$332C,$3344,$335C,$3373,$338B,$33A3,$33BB,$33D3,$33EB,$3403,$341B,$3433,$344B,$3463,$347B,$3494,$34AC,$34C4,$34DD,$34F5,$350E,$3526,$353F,$3557,$3570,$3589,$35A2,
$35BA,$35D3,$35EC,$3605,$361E,$3637,$3650,$3669,$3682,$369C,$36B5,$36CE,$36E8,$3701,$371A,$3734,$374D,$3767,$3781,$379A,$37B4,$37CE,$37E8,$3801,$381B,$3835,$384F,$3869,$3883,$389E,$38B8,$38D2,
$38EC,$3907,$3921,$393B,$3956,$3970,$398B,$39A6,$39C0,$39DB,$39F6,$3A11,$3A2B,$3A46,$3A61,$3A7C,$3A97,$3AB2,$3ACE,$3AE9,$3B04,$3B1F,$3B3B,$3B56,$3B71,$3B8D,$3BA8,$3BC4,$3BE0,$3BFB,$3C17,$3C33,
$3C4F,$3C6B,$3C87,$3CA3,$3CBF,$3CDB,$3CF7,$3D13,$3D2F,$3D4C,$3D68,$3D84,$3DA1,$3DBD,$3DDA,$3DF7,$3E13,$3E30,$3E4D,$3E69,$3E86,$3EA3,$3EC0,$3EDD,$3EFA,$3F17,$3F35,$3F52,$3F6F,$3F8C,$3FAA,$3FC7,
$3FE5,$4002,$4020,$403E,$405B,$4079,$4097,$40B5,$40D3,$40F1,$410F,$412D,$414B,$4169,$4187,$41A6,$41C4,$41E3,$4201,$4220,$423E,$425D,$427B,$429A,$42B9,$42D8,$42F7,$4316,$4335,$4354,$4373,$4392,
$43B1,$43D1,$43F0,$4410,$442F,$444F,$446E,$448E,$44AE,$44CD,$44ED,$450D,$452D,$454D,$456D,$458D,$45AD,$45CD,$45EE,$460E,$462F,$464F,$466F,$4690,$46B1,$46D1,$46F2,$4713,$4734,$4755,$4776,$4797,
$47B8,$47D9,$47FA,$481C,$483D,$485E,$4880,$48A1,$48C3,$48E5,$4906,$4928,$494A,$496C,$498E,$49B0,$49D2,$49F4,$4A16,$4A39,$4A5B,$4A7D,$4AA0,$4AC2,$4AE5,$4B07,$4B2A,$4B4D,$4B70,$4B93,$4BB6,$4BD9,
$4BFC,$4C1F,$4C42,$4C65,$4C89,$4CAC,$4CCF,$4CF3,$4D17,$4D3A,$4D5E,$4D82,$4DA6,$4DCA,$4DED,$4E12,$4E36,$4E5A,$4E7E,$4EA2,$4EC7,$4EEB,$4F10,$4F34,$4F59,$4F7E,$4FA2,$4FC7,$4FEC,$5011,$5036,$505B,
$5080,$50A6,$50CB,$50F0,$5116,$513B,$5161,$5186,$51AC,$51D2,$51F8,$521E,$5244,$526A,$5290,$52B6,$52DC,$5303,$5329,$534F,$5376,$539C,$53C3,$53EA,$5411,$5438,$545F,$5486,$54AD,$54D4,$54FB,$5522,
$554A,$5571,$5599,$55C0,$55E8,$5610,$5637,$565F,$5687,$56AF,$56D7,$5700,$5728,$5750,$5779,$57A1,$57CA,$57F2,$581B,$5844,$586C,$5895,$58BE,$58E7,$5910,$593A,$5963,$598C,$59B6,$59DF,$5A09,$5A32,
$5A5C,$5A86,$5AB0,$5ADA,$5B04,$5B2E,$5B58,$5B82,$5BAD,$5BD7,$5C01,$5C2C,$5C57,$5C81,$5CAC,$5CD7,$5D02,$5D2D,$5D58,$5D83,$5DAE,$5DDA,$5E05,$5E31,$5E5C,$5E88,$5EB4,$5EDF,$5F0B,$5F37,$5F63,$5F8F,
$5FBC,$5FE8,$6014,$6041,$606D,$609A,$60C6,$60F3,$6120,$614D,$617A,$61A7,$61D4,$6201,$622F,$625C,$628A,$62B7,$62E5,$6313,$6340,$636E,$639C,$63CA,$63F9,$6427,$6455,$6484,$64B2,$64E1,$650F,$653E,
$656D,$659C,$65CB,$65FA,$6629,$6658,$6688,$66B7,$66E7,$6716,$6746,$6776,$67A5,$67D5,$6805,$6835,$6866,$6896,$68C6,$68F7,$6927,$6958,$6989,$69BA,$69EA,$6A1B,$6A4C,$6A7E,$6AAF,$6AE0,$6B12,$6B43,
$6B75,$6BA6,$6BD8,$6C0A,$6C3C,$6C6E,$6CA0,$6CD3,$6D05,$6D37,$6D6A,$6D9C,$6DCF,$6E02,$6E35,$6E68,$6E9B,$6ECE,$6F01,$6F35,$6F68,$6F9C,$6FCF,$7003,$7037,$706B,$709F,$70D3,$7107,$713B,$7170,$71A4,
$71D9,$720D,$7242,$7277,$72AC,$72E1,$7316,$734B,$7380,$73B6,$73EB,$7421,$7457,$748D,$74C2,$74F8,$752F,$7565,$759B,$75D1,$7608,$763F,$7675,$76AC,$76E3,$771A,$7751,$7788,$77BF,$77F7,$782E,$7866,
$789E,$78D5,$790D,$7945,$797D,$79B6,$79EE,$7A26,$7A5F,$7A97,$7AD0,$7B09,$7B42,$7B7B,$7BB4,$7BED,$7C26,$7C60,$7C99,$7CD3,$7D0D,$7D47,$7D80,$7DBA,$7DF5,$7E2F,$7E69,$7EA4,$7EDE,$7F19,$7F54,$7F8F,
$7FCA,$8005,$8040,$807B,$80B7,$80F2,$812E,$816A,$81A5,$81E1,$821E,$825A,$8296,$82D2,$830F,$834C,$8388,$83C5,$8402,$843F,$847C,$84BA,$84F7,$8534,$8572,$85B0,$85EE,$862C,$866A,$86A8,$86E6,$8724,
$8763,$87A2,$87E0,$881F,$885E,$889D,$88DC,$891C,$895B,$899B,$89DA,$8A1A,$8A5A,$8A9A,$8ADA,$8B1A,$8B5A,$8B9B,$8BDC,$8C1C,$8C5D,$8C9E,$8CDF,$8D20,$8D61,$8DA3,$8DE4,$8E26,$8E68,$8EAA,$8EEC,$8F2E,
$8F70,$8FB2,$8FF5,$9037,$907A,$90BD,$9100,$9143,$9186,$91C9,$920D,$9250,$9294,$92D8,$931C,$9360,$93A4,$93E8,$942D,$9471,$94B6,$94FA,$953F,$9584,$95CA,$960F,$9654,$969A,$96DF,$9725,$976B,$97B1,
$97F7,$983E,$9884,$98CB,$9911,$9958,$999F,$99E6,$9A2D,$9A74,$9ABC,$9B03,$9B4B,$9B93,$9BDB,$9C23,$9C6B,$9CB4,$9CFC,$9D45,$9D8D,$9DD6,$9E1F,$9E68,$9EB2,$9EFB,$9F45,$9F8E,$9FD8,$A022,$A06C,$A0B6,
$A101,$A14B,$A196,$A1E0,$A22B,$A276,$A2C1,$A30D,$A358,$A3A4,$A3EF,$A43B,$A487,$A4D3,$A51F,$A56C,$A5B8,$A605,$A652,$A69F,$A6EC,$A739,$A786,$A7D4,$A821,$A86F,$A8BD,$A90B,$A959,$A9A8,$A9F6,$AA45,
$AA93,$AAE2,$AB31,$AB81,$ABD0,$AC1F,$AC6F,$ACBF,$AD0F,$AD5F,$ADAF,$ADFF,$AE50,$AEA0,$AEF1,$AF42,$AF93,$AFE4,$B036,$B087,$B0D9,$B12B,$B17C,$B1CF,$B221,$B273,$B2C6,$B318,$B36B,$B3BE,$B411,$B465,
$B4B8,$B50C,$B55F,$B5B3,$B607,$B65C,$B6B0,$B704,$B759,$B7AE,$B803,$B858,$B8AD,$B903,$B958,$B9AE,$BA04,$BA5A,$BAB0,$BB06,$BB5D,$BBB3,$BC0A,$BC61,$BCB8,$BD10,$BD67,$BDBF,$BE16,$BE6E,$BEC6,$BF1F,
$BF77,$BFD0,$C028,$C081,$C0DA,$C133,$C18D,$C1E6,$C240,$C29A,$C2F4,$C34E,$C3A8,$C403,$C45E,$C4B8,$C513,$C56F,$C5CA,$C625,$C681,$C6DD,$C739,$C795,$C7F1,$C84E,$C8AA,$C907,$C964,$C9C1,$CA1F,$CA7C,
$CADA,$CB38,$CB96,$CBF4,$CC52,$CCB0,$CD0F,$CD6E,$CDCD,$CE2C,$CE8C,$CEEB,$CF4B,$CFAB,$D00B,$D06B,$D0CB,$D12C,$D18D,$D1EE,$D24F,$D2B0,$D311,$D373,$D3D5,$D437,$D499,$D4FB,$D55E,$D5C0,$D623,$D686,
$D6EA,$D74D,$D7B1,$D814,$D878,$D8DC,$D941,$D9A5,$DA0A,$DA6F,$DAD4,$DB39,$DB9E,$DC04,$DC6A,$DCD0,$DD36,$DD9C,$DE03,$DE69,$DED0,$DF37,$DF9E,$E006,$E06D,$E0D5,$E13D,$E1A5,$E20E,$E276,$E2DF,$E348,
$E3B1,$E41A,$E484,$E4EE,$E557,$E5C2,$E62C,$E696,$E701,$E76C,$E7D7,$E842,$E8AD,$E919,$E985,$E9F1,$EA5D,$EACA,$EB36,$EBA3,$EC10,$EC7D,$ECEA,$ED58,$EDC6,$EE34,$EEA2,$EF10,$EF7F,$EFEE,$F05D,$F0CC,
$F13B,$F1AB,$F21B,$F28A,$F2FB,$F36B,$F3DC,$F44C,$F4BD,$F52F,$F5A0,$F612,$F683,$F6F5,$F768,$F7DA,$F84D,$F8C0,$F933,$F9A6,$FA19,$FA8D,$FB01,$FB75,$FBE9,$FC5E,$FCD3,$FD47,$FDBD,$FE32,$FEA8,$FF1D,
	);
    PSGNote:integer;

procedure SetReg(reg,data :byte);
	begin
	reg:=reg & %00111111;
	PSGLastState[reg]:=data;
	//$1F9C0 - $1F9FF 	PSG registers
	reg:=reg | %11000000; //+$C0;
	VERA_ADDR_HI := $01;
	VERA_ADDR_MID := $F9;
	VERA_ADDR_LO := reg;
	VERA_DATA1 := data;
	end;

procedure Reset(); 
	var i : byte;
	begin
    fori i := 0 to 63 do SetReg(i,0);
	end;

procedure SetFreq(chn:byte, data:integer);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	SetReg(reg,data);
	inc(reg);
	SetReg(reg,data>>8);
	end;

procedure SetVol(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+2;
	data:=data&%00111111;	
	PSGLastState[reg]:=PSGLastState[reg]&%11000000;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;
	
procedure SetL(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+2;
	data:=data&%00000001;
	data:=data<<6;
	PSGLastState[reg]:=PSGLastState[reg]&%10111111;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;

procedure SetR(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+2;
	data:=data&%00000001;
	data:=data<<7;
	PSGLastState[reg]:=PSGLastState[reg]&%01111111;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;
	
procedure SetWF(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+3;
	data:=data&%00000011;
	data:=data<<6;
	PSGLastState[reg]:=PSGLastState[reg]&%00111111;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;

procedure SetPW(chn:byte, data:byte);
var reg:byte;
	begin
	reg:=chn&%00001111;
	reg:=reg<<2;
	reg:=reg+3;
	data:=data&%00111111;
	PSGLastState[reg]:=PSGLastState[reg]&%11000000;
	data:=PSGLastState[reg] | data;
	SetReg(reg,data);
	end;

procedure getFreq(octave,note,detune:byte);
var ntp:pointer;
	pos:integer;
	begin
	ntp:=PSGNoteTable[0];
	pos:=((((octave*12)+note)*32)+detune)*2;
	ntp:=ntp+pos;
	PSGNote:=ntp[0];
	SCF::DrawHexInt(10, 54, ntp, 7);		
	SCF::DrawHexInt(10, 55, PSGNote, 7);
	end;

procedure SetNote(chn,octave,note:byte);
	begin
	getFreq(octave,note,16);
	SetFreq(chn,PSGNote);
	end;
	
end.
